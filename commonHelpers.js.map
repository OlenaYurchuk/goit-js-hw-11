{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { KEY };\n\nconst KEY = '42222554-b2624bd1f455ca6190f2bf509';","export const galleryEl = document.querySelector('.gallery');\n\n\nfunction createCardsList(cards) {\n    \n    const markup = cards.map(card => \n        `<li class=\"gallery-item\">\n             <div class=\"card-top\">\n            <a class=\"card-link\" href=\"${card.largeImageURL}\">\n                <img class=\"card-image\" src=\"${card.webformatURL}\" alt=\"${card.tags}\">\n            </a>\n        </div>\n        <div class=\"card-bottom\">\n            <p class=\"card-likes\">Likes <span class=\"card-value\">${card.likes}</span></p>\n            <p class=\"card-views\">Views <span class=\"card-value\">${card.views}</span></p>\n            <p class=\"card-comments\">Comments <span class=\"card-value\">${card.comments}</span></p>\n            <p class=\"card-downloads\">Downloads <span class=\"card-value\">${card.downloads}</span></p>\n        </div>\n        </li>`\n    ).join('');\n\n   galleryEl.insertAdjacentHTML('beforeend', markup);\n   \n   return markup;\n};\n\nexport { createCardsList };","import { KEY } from './js/pixabay-api.js';\nimport { galleryEl, createCardsList } from './js/render-functions.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchFormEl = document.querySelector('.search-form');\nconst inputEl = document.querySelector('.search-field');\nconst loaderEl = document.querySelector('.loader');\n\nlet searchQuery = '';\nlet lightbox = new SimpleLightbox('.gallery a', {});\n\nsearchFormEl.addEventListener('submit', onSearchForm);\n\nfunction onSearchForm(e) {\n    e.preventDefault();\n    galleryEl.innerHTML = '';\n    searchQuery = inputEl.value.trim();\n\n    if (searchQuery === '') {\n        iziToast.error({\n            position: 'topRight',\n            message: 'Please enter a search term.'\n          });\n        return;\n    }\n    fetchImageCards(searchQuery)\n    \n    searchFormEl.reset();       \n}\n\nfunction fetchImageCards(searchQuery) {\n    clearAll();\n    showLoader();\n    return fetch(`https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(response => {\n            if (!response.ok) {\n                 throw new Error(response.status);\n            }\n               return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                hideLoader();\n                iziToast.info({\n                    position: 'topRight',\n                    messageColor: 'black',\n                    message: 'Sorry, there are no images matching <br/> your search query. Please try again!'\n                });\n            } else {\n                hideLoader();\n                createCardsList(data.hits);\n                lightbox.refresh();\n            }\n        })\n        .catch((error) => {\n            hideLoader();\n            iziToast.error({\n                position: 'topRight',\n                message: 'Something went wrong. Please try again!'\n            });\n        })\n}\n\nfunction clearAll() {\n    galleryEl.innerHTML = '';\n}\n\nfunction showLoader() {\n    loaderEl.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n    loaderEl.classList.add('hidden');\n}"],"names":["KEY","galleryEl","createCardsList","cards","markup","card","searchFormEl","inputEl","loaderEl","searchQuery","lightbox","SimpleLightbox","onSearchForm","e","iziToast","fetchImageCards","clearAll","showLoader","response","data","hideLoader","error"],"mappings":"6vBAEA,MAAMA,EAAM,qCCFCC,EAAY,SAAS,cAAc,UAAU,EAG1D,SAASC,EAAgBC,EAAO,CAE5B,MAAMC,EAASD,EAAM,IAAIE,GACrB;AAAA;AAAA,yCAEiCA,EAAK,aAAa;AAAA,+CACZA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,mEAIhBA,EAAK,KAAK;AAAA,mEACVA,EAAK,KAAK;AAAA,yEACJA,EAAK,QAAQ;AAAA,2EACXA,EAAK,SAAS;AAAA;AAAA,cAGzF,EAAM,KAAK,EAAE,EAEV,OAAAJ,EAAU,mBAAmB,YAAaG,CAAM,EAEzCA,CACV,CChBA,MAAME,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAc,GACdC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAElDL,EAAa,iBAAiB,SAAUM,CAAY,EAEpD,SAASA,EAAaC,EAAG,CAKrB,GAJAA,EAAE,eAAc,EAChBZ,EAAU,UAAY,GACtBQ,EAAcF,EAAQ,MAAM,OAExBE,IAAgB,GAAI,CACpBK,EAAS,MAAM,CACX,SAAU,WACV,QAAS,6BACrB,CAAW,EACH,MACH,CACDC,EAAgBN,CAAW,EAE3BH,EAAa,MAAK,CACtB,CAEA,SAASS,EAAgBN,EAAa,CAClC,OAAAO,IACAC,IACO,MAAM,gCAAgCjB,CAAG,MAAMS,CAAW,0DAA0D,EACtH,KAAKS,GAAY,CACd,GAAI,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAC/B,CAAS,EACA,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,GACrBC,IACAN,EAAS,KAAK,CACV,SAAU,WACV,aAAc,QACd,QAAS,gFAC7B,CAAiB,IAEDM,IACAlB,EAAgBiB,EAAK,IAAI,EACzBT,EAAS,QAAO,EAEhC,CAAS,EACA,MAAOW,GAAU,CACdD,IACAN,EAAS,MAAM,CACX,SAAU,WACV,QAAS,yCACzB,CAAa,CACb,CAAS,CACT,CAEA,SAASE,GAAW,CAChBf,EAAU,UAAY,EAC1B,CAEA,SAASgB,GAAa,CAClBT,EAAS,UAAU,OAAO,QAAQ,CACtC,CAEA,SAASY,GAAa,CAClBZ,EAAS,UAAU,IAAI,QAAQ,CACnC"}