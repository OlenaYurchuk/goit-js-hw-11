{"version":3,"file":"commonHelpers.js","sources":["../src/js/api-key.js","../src/main.js"],"sourcesContent":["export { KEY };\n\nconst KEY = '42222554-b2624bd1f455ca6190f2bf509';","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { KEY } from \"./js/api-key.js\";\n\n\n\nconst searchFormEl = document.querySelector('.search-form');\nconst inputEl = document.querySelector('.search-field');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nlet searchItems = '';\nlet lightbox = new SimpleLightbox('.gallery a', {});\nloaderEl.classList.add('hidden'); \n\n\nsearchFormEl.addEventListener('submit', onSearchForm);\n\nfunction onSearchForm(e) {\n    e.preventDefault();\n    galleryEl.innerHTML = '';\n    searchItems = inputEl.value.trim();\n\n    if (searchItems === '') {\n        clearAll();\n        return;\n    }\n    fetchImageCards(searchItems);\n}\n\nfunction fetchImageCards(searchItems) {\n      fetch(`https://pixabay.com/api/?key=${KEY}&q=${searchItems}s&image_type=photo&orientation=horizontal&safesearch=true`)\n            .then(response => {\n                if (!response.ok) {\n                 throw new Error(response.status);\n                }\n               return response.json();\n            })\n          .then(data => {\n              loaderEl.classList.remove('hidden');\n                if (data.totalHits === 0) {\n                    iziToast.error({\n                        position: 'topRight',\n                        message: 'Sorry, there are no images matching your search query. Please try again!'\n                    });\n                } else {\n                    loaderEl.classList.add('hidden');\n                    createCardsList(data.hits);\n                    lightbox.refresh();\n                }\n            })\n            .catch((error) => console.log(error))\n            .finally(() => {\n                searchFormEl.reset();\n            })\n}\n//     return fetch(`https://pixabay.com/api/?key=${KEY}&q=${searchItems}s&image_type=photo&orientation=horizontal&safesearch=true`)\n//         .then(response => {\n//             if (!response.ok) {\n//                 throw new Error(response.status);\n//             }\n//             console.log(response.json());\n//             return response.json();\n//         })\n//         .catch((error) => console.log(error));\n// }\n\n// function createCard(cards) {\n//     const cardEl = cards[0];\n//     const readyCard = `<div class=\"card\">\n//         <div class=\"card-top\">\n//             <a class=\"card-link\" href=\"${cardEl.largeImageURL}\">\n//                 <img class=\"card-image\" src=\"${cardEl.webformatURL}\" alt=\"${cardEl.tags}\">\n//             </a>\n//         </div>\n//         <div class=\"card-bottom\">\n//             <p class=\"card-likes\">Likes: <span class=\"card-value\">${cardEl.likes}</span></p>\n//             <p class=\"card-views\">Views: <span class=\"card-value\">${cardEl.views}</span></p>\n//             <p class=\"card-comments\">Comments: <span class=\"card-value\">${cardEl.comments}</span></p>\n//             <p class=\"card-downloads\">Downloads: <span class=\"card-value\">${cardEl.downloads}</span></p>\n//         </div>\n//     </div>`\n//     div.innerHTML = readyCard;\n// };\n\nfunction createCardsList(cards) {\n    \n    const markup = cards.map(card => \n        `<li class=\"gallery-item\">\n             <div class=\"card-top\">\n            <a class=\"card-link\" href=\"${card.largeImageURL}\">\n                <img class=\"card-image\" src=\"${card.webformatURL}\" alt=\"${card.tags}\">\n            </a>\n        </div>\n        <div class=\"card-bottom\">\n            <p class=\"card-likes\">Likes <span class=\"card-value\">${card.likes}</span></p>\n            <p class=\"card-views\">Views <span class=\"card-value\">${card.views}</span></p>\n            <p class=\"card-comments\">Comments <span class=\"card-value\">${card.comments}</span></p>\n            <p class=\"card-downloads\">Downloads <span class=\"card-value\">${card.downloads}</span></p>\n        </div>\n        </li>`\n    ).join('');\n\n    galleryEl.insertAdjacentHTML('beforeend', markup);\n};\n\nfunction clearAll() {\n    galleryEl.innerHTML = '';\n}"],"names":["KEY","searchFormEl","inputEl","galleryEl","loaderEl","searchItems","lightbox","SimpleLightbox","onSearchForm","e","clearAll","fetchImageCards","response","data","iziToast","createCardsList","error","cards","markup","card"],"mappings":"6vBAEA,MAAMA,EAAM,qCCMNC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAc,GACdC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAClDH,EAAS,UAAU,IAAI,QAAQ,EAG/BH,EAAa,iBAAiB,SAAUO,CAAY,EAEpD,SAASA,EAAaC,EAAG,CAKrB,GAJAA,EAAE,eAAc,EAChBN,EAAU,UAAY,GACtBE,EAAcH,EAAQ,MAAM,OAExBG,IAAgB,GAAI,CACpBK,IACA,MACH,CACDC,EAAgBN,CAAW,CAC/B,CAEA,SAASM,EAAgBN,EAAa,CAChC,MAAM,gCAAgCL,CAAG,MAAMK,CAAW,2DAA2D,EAC9G,KAAKO,GAAY,CACd,GAAI,CAACA,EAAS,GACb,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAC/B,CAAa,EACF,KAAKC,GAAQ,CACVT,EAAS,UAAU,OAAO,QAAQ,EAC5BS,EAAK,YAAc,EACnBC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EACjC,CAAqB,GAEDV,EAAS,UAAU,IAAI,QAAQ,EAC/BW,EAAgBF,EAAK,IAAI,EACzBP,EAAS,QAAO,EAEpC,CAAa,EACA,MAAOU,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACXf,EAAa,MAAK,CAClC,CAAa,CACb,CA8BA,SAASc,EAAgBE,EAAO,CAE5B,MAAMC,EAASD,EAAM,IAAIE,GACrB;AAAA;AAAA,yCAEiCA,EAAK,aAAa;AAAA,+CACZA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,mEAIhBA,EAAK,KAAK;AAAA,mEACVA,EAAK,KAAK;AAAA,yEACJA,EAAK,QAAQ;AAAA,2EACXA,EAAK,SAAS;AAAA;AAAA,cAGzF,EAAM,KAAK,EAAE,EAEThB,EAAU,mBAAmB,YAAae,CAAM,CACpD,CAEA,SAASR,GAAW,CAChBP,EAAU,UAAY,EAC1B"}